(this["webpackJsonpulos-renting-platform"]=this["webpackJsonpulos-renting-platform"]||[]).push([[0],{210:function(e,t,r){},211:function(e,t,r){"use strict";r.r(t);var n=r(6),c=r.n(n),s=r(93),a=r.n(s),i=r(13),l=r(14),o=r(26),u=r(94),d=r(95),j=r(19),b=r(52),m=Object(u.a)({apiKey:"AIzaSyAf-o3leCEKk2eIK8rvr4kG8xI8Y6i3UNA",authDomain:"ulos-renting-platform.firebaseapp.com",projectId:"ulos-renting-platform",storageBucket:"ulos-renting-platform.appspot.com",messagingSenderId:"553532658970",appId:"1:553532658970:web:7c0b09364242c8bbeb88a3",measurementId:"G-QF5PJJVTBJ"}),x=Object(j.f)(m),h=Object(b.c)(m),p=Object(d.a)(m),f={loading:!1,error:!1,success:!1,toggleSidebar:!1,currentUser:null,response:{title:"",message:""},online:!0,refresh:!1},O="SET_TOGGLE",g="SET_USER",v="SET_ERROR",y="SET_SUCCEED",w="SET_BUSY",N="SET_MESSAGE",S="SET_ONLINE",k="SET_RELOAD",E=function(e,t){switch(t.type){case O:return R(e);case g:return _(e,t.payload);case w:return T(e,t.payload);case v:return C(e,t.payload);case y:return q(e,t.payload);case N:return F(e,t.payload);case S:return U(e,t.payload);case k:return L(e);default:return e}},R=function(e){return Object(l.a)(Object(l.a)({},e),{},{toggleSidebar:!e.toggleSidebar})},_=function(e,t){return Object(l.a)(Object(l.a)({},e),{},{currentUser:t})},T=function(e,t){return Object(l.a)(Object(l.a)({},e),{},{loading:t})},C=function(e,t){return Object(l.a)(Object(l.a)({},e),{},{error:t})},q=function(e,t){return Object(l.a)(Object(l.a)({},e),{},{success:t})},F=function(e,t){var r=t.title,n=t.message;return Object(l.a)(Object(l.a)({},e),{},{response:{title:r,message:n}})},U=function(e,t){return Object(l.a)(Object(l.a)({},e),{},{online:t})},L=function(e){return Object(l.a)(Object(l.a)({},e),{},{refresh:!e.refresh})},A=r(2),I=Object(n.createContext)(Object(l.a)({},f)),D=function(){return Object(n.useContext)(I)},P=function(e){var t=e.children,r=Object(n.useReducer)(E,f),c=Object(i.a)(r,2),s=c[0],a=c[1];return Object(n.useEffect)((function(){Object(o.c)(p,(function(e){a({type:g,payload:e})}));var e=setInterval((function(){a({type:S,payload:navigator.onLine})}),[1e3]);return function(){return clearInterval(e)}}),[]),Object(A.jsx)(I.Provider,{value:{global:s,globalDispatch:a},children:t})},B=r(68),G=function(){var e=D().globalDispatch,t=Object(n.useRef)(null),r=Object(n.useRef)(null),c=function(){clearTimeout(t.current),clearTimeout(r.current),e({type:y,payload:!1}),e({type:v,payload:!1}),e({type:N,payload:{title:"",message:""}})};return{renderFail:function(r){var n=r.title,s=void 0===n?"ACTION DENIED":n,a=r.message,i=void 0===a?"Lorem ipsum donor":a;c(),e({type:v,payload:!0}),e({type:N,payload:{title:s,message:i}}),t.current=setTimeout((function(){e({type:v,payload:!1}),e({type:N,payload:{title:"",message:""}})}),1e4)},renderSucceed:function(t){var n=t.title,s=void 0===n?"ACTION ACCEPTED":n,a=t.message,i=void 0===a?"Lorem ipsum donor":a;c(),e({type:y,payload:!0}),e({type:N,payload:{title:s,message:i}}),r.current=setTimeout((function(){e({type:y,payload:!1}),e({type:N,payload:{title:"",message:""}})}),1e4)},renderBusy:function(t){e({type:w,payload:t})},renderTimeoutCancel:c}},M=function(){return Object(A.jsx)(c.a.Fragment,{children:Object(A.jsx)("div",{className:"loading-container",children:Object(A.jsx)("div",{className:"lds-circle",children:Object(A.jsx)("div",{})})})})},Y=function(){var e,t,r=D().global,n=G().renderTimeoutCancel;return Object(A.jsx)(c.a.Fragment,{children:Object(A.jsxs)("div",{className:"succ-err-res bg-red-500 w-80 z-20 px-5 py-4 flex flex-col rounded fixed bottom-5 min-h-20 right-1/2 transform translate-x-1/2 lg:translate-x-0 lg:right-5",children:[Object(A.jsx)("p",{className:"text-white font-bold text-lg",children:null===(e=r.response)||void 0===e?void 0:e.title}),Object(A.jsx)(B.a,{className:"transition delay-200 text-xl text-white hover:opacity-70 absolute top-3 right-3",onClick:function(){return n()}}),Object(A.jsx)("p",{className:"text-white",children:null===(t=r.response)||void 0===t?void 0:t.message})]})})},z=function(){var e,t,r=D().global,n=G().renderTimeoutCancel;return Object(A.jsx)(c.a.Fragment,{children:Object(A.jsxs)("div",{className:"succ-err-res bg-green-500 w-80 z-20 px-5 py-4 flex flex-col rounded fixed bottom-5 min-h-20 right-1/2 transform translate-x-1/2 lg:translate-x-0 lg:right-5",children:[Object(A.jsx)("p",{className:"text-white font-bold text-lg",children:null===(e=r.response)||void 0===e?void 0:e.title}),Object(A.jsx)(B.a,{className:"transition delay-200 text-xl text-white hover:opacity-70 absolute top-3 right-3",onClick:function(){return n()}}),Object(A.jsx)("p",{className:"text-white",children:null===(t=r.response)||void 0===t?void 0:t.message})]})})},W=r(102),V=r(12),J=function(){return Object(A.jsx)(c.a.Fragment,{children:Object(A.jsx)("div",{className:"text-center flex justify-center items-center text-2xl mt-60",children:Object(A.jsx)("h1",{children:"404 PAGE NOT FOUND"})})})},Q=r(1),H=r.n(Q),K=r(4),$=r(35),Z=r(21),X=Object(j.b)(x,"users"),ee=function(){var e=Object(K.a)(H.a.mark((function e(t){var r,n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.email,n=t.password,e.prev=1,e.next=4,Object(o.d)(p,r,n);case 4:e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(1),console.log(e.t0.message),e.t0;case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(K.a)(H.a.mark((function e(t){var r,n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.email,n=t.password,e.prev=1,e.next=4,Object(o.a)(p,r,n).then(function(){var e=Object(K.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.h)(Object(j.d)(X,t.user.uid),{email:r});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e)}));case 4:e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(1),console.log(e.t0.message),e.t0;case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(K.a)(H.a.mark((function e(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(o.e)(p);case 3:e.next=9;break;case 5:throw e.prev=5,e.t0=e.catch(0),console.log(e.t0.message),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),ne={login:ee,register:te,logout:re},ce=function(){var e=Object(V.g)();Object(n.useEffect)((function(){window.scrollTo({top:0})}),[e])},se="LOGIN",ae="SIGNUP",ie=Z.e().required("This field is required").email("Enter a valid Email"),le=Z.e().required("This field is required").matches("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])","Must Contain a number, a special character and a capital letter").min(8,"Password must be minimum of 8"),oe=function(e){var t=e.type,r=G(),n=r.renderFail,s=r.renderSucceed,a=r.renderBusy;ce();var i=Object(V.h)(),l=Object($.a)({initialValues:{email:"",password:""},validationSchema:Z.c({email:ie,password:le}),onSubmit:function(){var e=Object(K.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.next=3,ne.register(t).then((function(){s({message:"Successfully created new account"}),i("/home")})).catch((function(e){return n({message:e.message})}));case 3:a(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),o=Object($.a)({initialValues:{email:"",password:""},validationSchema:Z.c({email:ie,password:Z.e().required("This field is required")}),onSubmit:function(){var e=Object(K.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.next=3,ne.login(t).then((function(){s({message:"Successfully logged in"}),i("/home")})).catch((function(e){return n({message:e.message})}));case 3:a(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),u=t===se?o.handleSubmit:l.handleSubmit,d=t===se?o.handleChange:l.handleChange,j=t===se?o.values:l.values,b=t===se?o.errors:l.errors,m=t===se?o.touched.email&&o.errors.email:l.touched.email&&l.errors.email,x=t===se?o.touched.password&&o.errors.password:l.touched.password&&l.errors.password;return Object(A.jsx)(c.a.Fragment,{children:Object(A.jsxs)("div",{className:"h-screen",children:[Object(A.jsx)("br",{}),Object(A.jsx)("br",{}),Object(A.jsx)("br",{}),Object(A.jsxs)("form",{onSubmit:u,className:"lg:w-1/3 m-auto py-12 px-8 lg:border rounded",children:[Object(A.jsx)("h1",{children:t}),Object(A.jsx)("br",{}),Object(A.jsxs)("div",{children:[Object(A.jsx)("label",{children:"Email"}),Object(A.jsx)("input",{name:"email",type:"text",value:j.email,onChange:function(e){return d(e)}}),m?Object(A.jsx)("span",{className:"span-input-validation",children:null===b||void 0===b?void 0:b.email}):null]}),Object(A.jsx)("br",{}),Object(A.jsxs)("div",{children:[Object(A.jsx)("label",{children:"Password"}),Object(A.jsx)("input",{name:"password",type:"password",value:j.password,onChange:function(e){return d(e)}}),x?Object(A.jsx)("span",{className:"span-input-validation",children:null===b||void 0===b?void 0:b.password}):null]}),Object(A.jsx)("br",{}),Object(A.jsx)("br",{}),Object(A.jsx)("button",{children:t}),t===ae?Object(A.jsx)("br",{}):Object(A.jsxs)("div",{className:"w-full text-center",children:[Object(A.jsx)("br",{}),Object(A.jsx)("p",{className:"cursor-pointer hover:underline",children:"Forgot password?"})]})]})]})})},ue={allRentals:[],loading:!1},de="SET_ALL_RENTAL",je="SET_TO_BUSY",be=function(e,t){switch(t.type){case de:return me(e,t.payload);case je:return xe(e,t.payload);default:return e}},me=function(e,t){return Object(l.a)(Object(l.a)({},e),{},{allRentals:t})},xe=function(e,t){return Object(l.a)(Object(l.a)({},e),{},{loading:t})},he=Object(n.createContext)(Object(l.a)({},ue)),pe=function(e){var t=e.children,r=Object(n.useReducer)(be,ue),c=Object(i.a)(r,2),s=c[0],a=c[1];return Object(A.jsx)(he.Provider,{value:{rental:s,rentalDispatch:a},children:t})},fe=r(44),Oe=r(39),ge=Object(j.b)(x,"rentals"),ve=function(){var e=Object(K.a)(H.a.mark((function e(t,r,n){var c,s,a,i,l,o,u;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Math.round(+new Date/1e3)+"-"+n.name,s=r.item,a=r.description,i=r.price,l="",e.prev=3,o=Object(Oe.c)(h,"rentals_img/"+c),e.next=7,Object(Oe.d)(o,n);case 7:return u=e.sent,e.next=10,Object(Oe.b)(u.ref).then((function(e){return l=e}));case 10:return e.next=12,Object(j.a)(ge,{item:s,description:a,price:parseFloat(i,10),likes:[],img_url:l,img_path:o.fullPath,id_user:t});case 12:e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(3),new Error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t,r,n){return e.apply(this,arguments)}}(),ye=function(){var e=Object(K.a)(H.a.mark((function e(){var t,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(j.e)(ge);case 3:return t=e.sent,r=t.docs.map((function(e){return Object(l.a)(Object(l.a)({},e.data()),{},{id_ren:e.id})})),e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",new Error(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),we=function(){var e=Object(K.a)(H.a.mark((function e(t){var r,n,c;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=Object(j.g)(ge,Object(j.i)("id_user","==",t)),e.next=4,Object(j.e)(r);case 4:return n=e.sent,c=n.docs.map((function(e){return Object(l.a)(Object(l.a)({},e.data()),{},{id_ren:e.id})})),e.abrupt("return",c);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",new Error(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(K.a)(H.a.mark((function e(t,r){var n,c;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),n=Object(Oe.c)(h,r),e.prev=2,c=Object(j.d)(x,"rentals",t),e.next=6,Object(j.c)(c);case 6:Object(Oe.a)(n).catch((function(e){return new Error(e)})),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(2),new Error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,r){return e.apply(this,arguments)}}(),Se={getAllRentals:ye,getUserRentals:we,addRental:ve,likeRental:function(e){},removeRental:Ne},ke=function(e){var t,r=e.id,s=e.user,a=e.item,l=e.likes,o=e.price,u=e.img,d=e.favorite,j=void 0!==d&&d,b=e.path,m=D(),x=m.global,h=m.globalDispatch,p=G(),f=p.renderSucceed,O=p.renderFail,g=p.renderBusy,v=Object(n.useState)(j),y=Object(i.a)(v,2),w=y[0],N=y[1],S=Object(n.useState)(parseInt(l)),E=Object(i.a)(S,2),R=E[0],_=E[1],T=function(){var e=Object(K.a)(H.a.mark((function e(t,r){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.next=3,Se.removeRental(t,r).then((function(){f({message:"Delete item: "+t}),h({type:k})})).catch((function(e){return O({message:e.message})}));case 3:g(!1);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();return Object(A.jsx)(c.a.Fragment,{children:Object(A.jsxs)("div",{className:"w-full succ-err-res transition delay-200 transform hover:-translate-y-2 rounded",children:[Object(A.jsx)("div",{className:"w-full h-96 flex items-center justify-center",children:Object(A.jsx)("img",{className:"succ-err-res object-cover w-full h-full rounded",src:u,alt:r})}),Object(A.jsxs)("div",{className:"flex flex-row justify-between items-center gap-6",children:[Object(A.jsx)("div",{className:"truncate",children:Object(A.jsx)("h2",{className:"font-bold py-1 truncate",children:a})}),s===(null===(t=x.currentUser)||void 0===t?void 0:t.uid)?Object(A.jsx)("div",{onClick:function(){return T(r,b)},children:Object(A.jsx)("p",{className:"text-red-600 hover:text-red-800 text-sm cursor-pointer",children:"REMOVE"})}):null]}),Object(A.jsx)("div",{className:"flex flex-row gap-6 items-center",children:Object(A.jsxs)("div",{className:"flex flex-row items-center justify-center",children:[Object(A.jsx)("div",{onClick:function(){N(!w),_(!1===w?parseInt(R)+1:parseInt(R)-1)},children:!1===w?Object(A.jsx)(fe.b,{className:"text-red-400 hover:text-red-600",size:"20px"}):Object(A.jsx)(fe.c,{className:"text-red-400 hover:text-red-600",size:"20px"})}),Object(A.jsx)("p",{className:"pl-2",children:R})]})}),Object(A.jsxs)("p",{className:"font-bold",children:["$ ",o]})]})})},Ee=function(){return Object(A.jsxs)(c.a.Fragment,{children:[Object(A.jsx)("div",{className:"w-full",children:Object(A.jsx)(Re,{})}),Object(A.jsx)("div",{className:"w-full hidden lg:block",children:Object(A.jsx)(Re,{})}),Object(A.jsx)("div",{className:"w-full hidden lg:block",children:Object(A.jsx)(Re,{})})]})},Re=function(){return Object(A.jsx)(c.a.Fragment,{children:Object(A.jsxs)("div",{className:"bg-white rounded shadow-xl",children:[Object(A.jsx)("div",{className:"h-64 bg-gray-300 rounded-tr rounded-tl animate-pulse"}),Object(A.jsxs)("div",{className:"p-5",children:[Object(A.jsx)("div",{className:"h-8 rounded-sm bg-gray-300 animate-pulse mb-3"}),Object(A.jsx)("div",{className:"h-6 rounded-sm bg-gray-300 animate-pulse mb-4"}),Object(A.jsxs)("div",{className:"grid grid-cols-4 gap-1 mb-4",children:[Object(A.jsx)("div",{className:"col-span-3 h-6 rounded-sm bg-gray-300 animate-pulse"}),Object(A.jsx)("div",{className:"h-6 rounded-sm bg-gray-300 animate-pulse"}),Object(A.jsx)("div",{className:"col-span-2 h-6 rounded-sm bg-gray-300 animate-pulse"}),Object(A.jsx)("div",{className:"col-span-2 h-6 rounded-sm bg-gray-300 animate-pulse"}),Object(A.jsx)("div",{className:"h-6 rounded-sm bg-gray-300 animate-pulse"}),Object(A.jsx)("div",{className:"col-span-3 h-6 rounded-sm bg-gray-300 animate-pulse"}),Object(A.jsx)("div",{className:"col-span-2 h-6 rounded-sm bg-gray-300 animate-pulse"}),Object(A.jsx)("div",{className:"h-6 rounded-sm bg-gray-300 animate-pulse"})]}),Object(A.jsx)("div",{className:"w-48 h-6 rounded-sm bg-gray-300 animate-pulse mb-1"}),Object(A.jsx)("div",{className:"w-40 h-6 rounded-sm bg-gray-300 animate-pulse"})]})]})})},_e=function(){var e,t=D().global,r=Object(n.useContext)(he),s=r.rental,a=r.rentalDispatch,i=function(){var e=Object(K.a)(H.a.mark((function e(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:je,payload:!0}),e.next=3,Se.getAllRentals().then((function(e){0===e.length?a({type:de,payload:null}):a({type:de,payload:e})})).catch((function(e){return console.log(e.message)}));case 3:a({type:je,payload:!1});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){i()}),[t.refresh]),!1===t.online?Object(A.jsx)(c.a.Fragment,{children:Object(A.jsx)("div",{className:"w-full grid justify-items-center grid-cols-1 lg:grid-cols-3 lg:justify-items-stretch gap-6",children:Object(A.jsx)(Ee,{})})}):null===s.allRentals?Object(A.jsx)("div",{className:"flex flex-row w-full h-80 justify-center items-center text-center",children:Object(A.jsx)("h2",{children:"There are no for rental items at the moment..."})}):Object(A.jsx)(c.a.Fragment,{children:!1===s.loading?Object(A.jsx)("div",{className:"w-full grid justify-items-center grid-cols-1 lg:grid-cols-4 lg:justify-items-stretch gap-6",children:null===s||void 0===s||null===(e=s.allRentals)||void 0===e?void 0:e.map((function(e){var t=e.item,r=e.likes,n=e.price,c=e.img_url,s=e.id_ren,a=e.img_path,i=e.id_user;return Object(A.jsx)(ke,{id:s,user:i,item:t,likes:r.length,price:n,img:c,path:a},s)}))}):Object(A.jsx)(c.a.Fragment,{children:Object(A.jsx)("div",{className:"w-full grid justify-items-center grid-cols-1 lg:grid-cols-3 lg:justify-items-stretch gap-6",children:Object(A.jsx)(Ee,{})})})})},Te=function(){return ce(),Object(A.jsx)(c.a.Fragment,{children:Object(A.jsx)(pe,{children:Object(A.jsxs)("div",{className:"mx-3 flex flex-col items-center lg:items-start lg:mx-0 my-6",children:[Object(A.jsx)("h1",{children:"ALL RENTAL ITEMS"}),Object(A.jsx)("br",{}),Object(A.jsx)(_e,{})]})})})},Ce=Z.e().required("This field is required").max(255,"Maximum of 255 characters"),qe=Z.b().typeError("Must be a number").required("This field is required"),Fe=function(){var e,t,r,s=G(),a=s.renderFail,l=s.renderSucceed,o=s.renderBusy,u=D().global,d=Object(V.h)(),j=Object(n.useState)(),b=Object(i.a)(j,2),m=b[0],x=b[1],h=Object(n.useState)(),p=Object(i.a)(h,2),f=p[0],O=p[1],g=Object($.a)({initialValues:{item:"",description:"",img:"",price:""},validationSchema:Z.c({item:Z.e().required("This field is required").max(30,"Maximum of 100 characters"),description:Ce,img:Z.a().required("This field is required"),price:qe}),onSubmit:function(){var e=Object(K.a)(H.a.mark((function e(t){var r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,Se.addRental(null===(r=u.currentUser)||void 0===r?void 0:r.uid,t,f).then((function(){l({message:"Rental Item Added"}),d("/my-lists")})).catch((function(e){return a({message:e.message})}));case 3:o(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),v=g.touched.img&&g.errors.img?"bg-red-600 hover:bg-red-700 hover:text-white text-white":"bg-white hover:bg-green-600 hover:text-white text-green-600";return ce(),Object(A.jsx)(c.a.Fragment,{children:Object(A.jsx)("form",{onSubmit:g.handleSubmit,children:Object(A.jsxs)("div",{className:"mx-3 lg:w-2/3 my-8 lg:my-24 lg:mx-auto",children:[Object(A.jsx)("h1",{children:"Add Rental"}),Object(A.jsx)("br",{}),Object(A.jsx)(Ue,{image:null===m||void 0===m?void 0:m.url,alt:null===m||void 0===m?void 0:m.alt}),Object(A.jsx)("br",{}),Object(A.jsx)("div",{}),Object(A.jsxs)("div",{className:"my-1 w-full",children:[Object(A.jsx)("label",{children:"Item Name"}),Object(A.jsx)("input",{name:"item",value:g.item,onChange:g.handleChange}),g.touched.item&&g.errors.item?Object(A.jsx)("span",{className:"span-input-validation",children:null===(e=g.errors)||void 0===e?void 0:e.item}):null]}),Object(A.jsxs)("div",{className:"my-1 w-full",children:[Object(A.jsx)("label",{children:"Description"}),Object(A.jsx)("textarea",{name:"description",value:g.description,onChange:g.handleChange}),g.touched.description&&g.errors.description?Object(A.jsx)("span",{className:"span-input-validation",children:null===(t=g.errors)||void 0===t?void 0:t.description}):null]}),Object(A.jsxs)("div",{className:"my-1 w-full",children:[Object(A.jsx)("label",{children:"Price"}),Object(A.jsx)("input",{name:"price",value:g.price,onChange:g.handleChange}),g.touched.price&&g.errors.price?Object(A.jsx)("span",{className:"span-input-validation",children:null===(r=g.errors)||void 0===r?void 0:r.price}):null]}),Object(A.jsx)("br",{}),Object(A.jsx)("div",{className:"w-full",children:Object(A.jsxs)("label",{className:"w-full flex flex-col rounded items-center py-3 tracking-wide uppercase border cursor-pointer ease-linear transition-all duration-150 "+v,children:[Object(A.jsx)("span",{className:"text-base leading-normal",children:"Select a Image"}),Object(A.jsx)("input",{name:"img",type:"file",accept:"image/png, image/jpeg",className:"hidden",onChange:function(e){g.handleChange(e),function(e){var t=e.target.files[0],r=new Blob([t],{type:"image/jpg"});x({url:URL.createObjectURL(r),alt:e.target.name}),O(t)}(e)}})]})}),Object(A.jsx)("br",{}),Object(A.jsx)("br",{}),Object(A.jsx)("div",{children:Object(A.jsx)("button",{type:"submit",children:"Submit"})})]})})})},Ue=function(e){var t=e.image,r=e.alt;return Object(A.jsx)(c.a.Fragment,{children:Object(A.jsx)("div",{className:"flex items-center justify-center",children:t&&Object(A.jsx)("img",{className:"succ-err-res shadow-2xl rounded lg:h-96",src:t,alt:r})})})},Le=Object(j.b)(x,"requests"),Ae=function(){var e=Object(K.a)(H.a.mark((function e(t,r){var n,c,s,a,i;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.item,c=r.range_from,s=r.range_to,a=r.description,i=r.location,e.prev=1,e.next=4,Object(j.a)(Le,{item:n,description:a,location:i,range_from:parseFloat(c,10),range_to:parseFloat(s,10),id_user:t});case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(1),new Error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,r){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(K.a)(H.a.mark((function e(){var t,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(j.e)(Le);case 3:return t=e.sent,r=t.docs.map((function(e){return Object(l.a)(Object(l.a)({},e.data()),{},{id_req:e.id})})),e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",new Error(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),De=function(){var e=Object(K.a)(H.a.mark((function e(t){var r,n,c;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=Object(j.g)(Le,Object(j.i)("id_user","==",t)),e.next=4,Object(j.e)(r);case 4:return n=e.sent,c=n.docs.map((function(e){return Object(l.a)(Object(l.a)({},e.data()),{},{id_req:e.id})})),e.abrupt("return",c);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",new Error(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(K.a)(H.a.mark((function e(t){var r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=Object(j.d)(x,"requests",t),e.next=4,Object(j.c)(r);case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),new Error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Be={getAllRequests:Ie,getUserRequest:De,addRequest:Ae,removeRequest:Pe},Ge=Z.e().required("This field is required").max(255,"Maximum of 255 characters"),Me=Z.b().typeError("Must be a number").required("This field is required"),Ye=function(){var e,t,r,n,s,a=G(),i=a.renderFail,l=a.renderSucceed,o=a.renderBusy,u=D().global,d=Object(V.h)(),j=Object($.a)({initialValues:{item:"",description:"",location:"",range_from:"",range_to:""},validationSchema:Z.c({item:Z.e().required("This field is required").max(100,"Maximum of 100 characters"),description:Ge,location:Ge,range_from:Me,range_to:Me.moreThan(Z.d("range_from"),"Range to must be higher than Range From")}),onSubmit:function(){var e=Object(K.a)(H.a.mark((function e(t){var r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,Be.addRequest(null===(r=u.currentUser)||void 0===r?void 0:r.uid,t).then((function(){l({message:"Request Added"}),d("/my-lists")})).catch((function(e){return i({message:e.message})}));case 3:o(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()});return ce(),Object(A.jsx)(c.a.Fragment,{children:Object(A.jsx)("form",{onSubmit:j.handleSubmit,children:Object(A.jsxs)("div",{className:"mx-3 lg:w-2/3 my-8 lg:my-24 lg:mx-auto",children:[Object(A.jsx)("h1",{children:"Add Request"}),Object(A.jsx)("br",{}),Object(A.jsxs)("div",{className:"my-1 w-full",children:[Object(A.jsx)("label",{children:"Item Name"}),Object(A.jsx)("input",{name:"item",value:j.item,onChange:j.handleChange}),j.touched.item&&j.errors.item?Object(A.jsx)("span",{className:"span-input-validation",children:null===(e=j.errors)||void 0===e?void 0:e.item}):null]}),Object(A.jsxs)("div",{className:"my-1 w-full",children:[Object(A.jsx)("label",{children:"Description"}),Object(A.jsx)("textarea",{name:"description",value:j.description,onChange:j.handleChange}),j.touched.description&&j.errors.description?Object(A.jsx)("span",{className:"span-input-validation",children:null===(t=j.errors)||void 0===t?void 0:t.description}):null]}),Object(A.jsxs)("div",{className:"flex flex-col lg:flex-row w-full items-start",children:[Object(A.jsxs)("div",{className:"my-1 w-full lg:mr-2",children:[Object(A.jsx)("label",{children:"Range from"}),Object(A.jsx)("input",{name:"range_from",value:j.range_from,onChange:j.handleChange}),j.touched.range_from&&j.errors.range_from?Object(A.jsx)("span",{className:"span-input-validation",children:null===(r=j.errors)||void 0===r?void 0:r.range_from}):null]}),Object(A.jsxs)("div",{className:"my-1 w-full lg:ml-2",children:[Object(A.jsx)("label",{children:"Range to"}),Object(A.jsx)("input",{name:"range_to",value:j.range_to,onChange:j.handleChange}),j.touched.range_to&&j.errors.range_to?Object(A.jsx)("span",{className:"span-input-validation",children:null===(n=j.errors)||void 0===n?void 0:n.range_to}):null]})]}),Object(A.jsxs)("div",{className:"my-1 w-full",children:[Object(A.jsx)("label",{children:"Location"}),Object(A.jsx)("input",{name:"location",value:j.location,onChange:j.handleChange}),j.touched.location&&j.errors.location?Object(A.jsx)("span",{className:"span-input-validation",children:null===(s=j.errors)||void 0===s?void 0:s.location}):null]}),Object(A.jsx)("br",{}),Object(A.jsx)("br",{}),Object(A.jsx)("div",{children:Object(A.jsx)("button",{type:"submit",children:"Submit"})})]})})})},ze="ADD_REQUEST",We="ADD_RENTAL",Ve=function(){switch(Object(V.i)().type){case We:return Object(A.jsx)(Fe,{});case ze:return Object(A.jsx)(Ye,{});default:return Object(A.jsx)("div",{children:Object(A.jsx)("h1",{children:"Google"})})}},Je=r.p+"static/media/ulos.656e9c10.png",Qe=function(){var e=Object(V.h)();return Object(A.jsx)(c.a.Fragment,{children:Object(A.jsxs)("div",{className:"mx-3 lg:mx-0 grid grid-cols-1 lg:grid-cols-2 lg:gap-4",children:[Object(A.jsxs)("div",{className:"flex flex-col justify-center",children:[Object(A.jsx)("p",{className:"lg:font-bold text-xl lg:text-3xl",children:"Looking for something?"}),Object(A.jsx)("br",{className:"hidden lg:block"}),Object(A.jsx)("p",{className:"font-bold text-4xl lg:text-5xl",children:"WE GOT YOU COVERED!"}),Object(A.jsx)("br",{}),Object(A.jsxs)("p",{children:["Fortifying your renting needs wherever you are. ULOS (Unified Lending Online Service) is an all around renting platform that caters to whatever you may be looking for in the market!",Object(A.jsx)("br",{})," ",Object(A.jsx)("br",{}),"Sign Up today and enjoy looking for renting necessities that you may be using either for today or for any other day. Already have an account? Log In now and who knows what you might need to use later on!"]})]}),Object(A.jsx)("div",{className:"flex items-center justify-end",children:Object(A.jsx)("img",{className:"object-cover",src:Je,alt:"ulos"})}),Object(A.jsxs)("div",{className:"flex w-3/4 lg:w-1/4 lg:col-span-2 m-auto",children:[Object(A.jsx)("button",{className:"mr-1 lg:mr-3 bg-green-500",onClick:function(){return e("/browse")},children:"Browse"}),Object(A.jsx)("button",{className:"ml-2 lg:ml-3 bg-green-500",onClick:function(){return e("/request")},children:"Request"})]})]})})},He=function(){return ce(),Object(A.jsx)(c.a.Fragment,{children:Object(A.jsx)(Qe,{})})},Ke=function(){return Object(A.jsx)(c.a.Fragment,{children:Object(A.jsx)("div",{className:"bg-gray-900",children:Object(A.jsxs)("div",{className:"lg:w-3/4 m-auto text-white py-10",children:[Object(A.jsxs)("div",{className:"my-4 mx-3 flex flex-col lg:flex-row justify-between  lg:mx-0",children:[Object(A.jsxs)("div",{className:"lg:w-1/2 mb-5 text-center lg:text-left",children:[Object(A.jsx)("h1",{className:"font-bold",children:"ULOS"}),Object(A.jsx)("br",{}),Object(A.jsx)("p",{className:"text-gray-400",children:"Our goal is to provide a unified and easy-to-access platform for all types of renting needs."}),Object(A.jsx)("br",{}),Object(A.jsx)("h1",{className:"font-bold",children:"About us"}),Object(A.jsx)("br",{}),Object(A.jsxs)("ul",{className:"text-gray-400 flex flex-col items-center lg:items-start",children:[Object(A.jsx)("li",{className:"hover:underline cursor-pointer w-28",children:"Return Policy"}),Object(A.jsx)("li",{className:"hover:underline cursor-pointer w-24",children:"Shop Policy"})]})]}),Object(A.jsxs)("div",{className:"lg:w-1/2 text-center lg:text-left",children:[Object(A.jsx)("h1",{className:"font-bold",children:"Contact us"}),Object(A.jsx)("br",{}),Object(A.jsx)("p",{className:"hover:underline cursor-pointer text-gray-400",children:"ulos.info@gmail.com"}),Object(A.jsx)("br",{}),Object(A.jsx)("h1",{className:"font-bold",children:"Download our App"}),Object(A.jsx)("br",{}),Object(A.jsx)("p",{className:"text-gray-400",children:"Download App for Android mobile phones"})]})]}),Object(A.jsx)("div",{className:"text-xs mx-3 pt-5 text-gray-600 lg:mx-0 text-center lg:text-left",children:Object(A.jsxs)("p",{children:["COPYRIGHT \xa9"," ",Object(A.jsx)("span",{className:"hover:underline hover:text-white cursor-pointer",children:"ULOS"})," ","2021 - ALL RIGHT RESERVE"]})})]})})})},$e=r(58),Ze=function(){var e=D(),t=e.global,r=e.globalDispatch,n=Object(V.h)();return Object(A.jsx)(c.a.Fragment,{children:Object(A.jsxs)("div",{className:"flex flex-row justify-between items-center",children:[Object(A.jsxs)("div",{className:"flex flex-row justify-between w-full items-center",children:[Object(A.jsx)("div",{className:"ml-3 lg:ml-0 py-6 text-gray-900 font-bold text-2xl cursor-pointer",children:"ULOS RENTING"}),Object(A.jsx)("div",{className:"lg:hidden rounded p-3 hover:bg-gray-200 cursor-pointer",onClick:function(){return r({type:O})},children:Object(A.jsx)($e.b,{size:"25px"})})]}),Object(A.jsx)("div",{className:"hidden lg:flex lg:flex-row lg:space-x-5 items-center justify-center",children:et.map((function(e){if(null===t.currentUser){if("My Lists"!==e.name)return Object(A.jsx)("div",{className:"hover:text-gray-500 cursor-pointer truncate",onClick:function(){return n(e.route)},children:e.name},e.id)}else if("Login"!==e.name&&"Signup"!==e.name)return Object(A.jsx)("div",{className:"hover:text-gray-500 cursor-pointer truncate",onClick:function(){return n(e.route)},children:e.name},e.id);return null}))})]})})},Xe=function(){var e,t=D().global,r=G().renderBusy,n=Object(V.h)();return Object(A.jsx)(c.a.Fragment,{children:null!==t.currentUser?Object(A.jsxs)("div",{className:"hidden lg:bg-gray-900 lg:py-2 lg:px-3 lg:flex lg:flex-row lg:items-center lg:justify-between",children:[Object(A.jsx)("div",{className:"cursor-pointer",children:Object(A.jsx)("p",{className:"text-xs text-gray-400",children:"ULOS RENTING PLATFORM 2021"})}),Object(A.jsxs)("div",{className:"flex flex-row items-center justify-end cursor-pointer",children:[Object(A.jsx)("p",{className:"text-xs text-gray-400",children:null===(e=t.currentUser)||void 0===e?void 0:e.email}),Object(A.jsx)("p",{className:"text-xs text-gray-400 px-2",children:"|"}),Object(A.jsx)("p",{className:"text-xs text-gray-400 hover:text-white",children:"SETTINGS"}),Object(A.jsx)("p",{className:"text-xs text-gray-400 px-2",children:"|"}),Object(A.jsx)("p",{className:"text-xs text-gray-400 hover:text-white",onClick:Object(K.a)(H.a.mark((function e(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.next=3,ne.logout();case 3:r(!1),n("/home");case 5:case"end":return e.stop()}}),e)}))),children:"LOGOUT"})]})]}):void 0})},et=[{id:0,name:"Home",route:"/home"},{id:1,name:"Browse",route:"/browse"},{id:2,name:"Request",route:"/request"},{id:3,name:"Login",route:"/login"},{id:4,name:"Signup",route:"/signup"},{id:5,name:"My Lists",route:"/my-lists"}],tt=function(){var e,t=D(),r=t.global,n=t.globalDispatch,s=Object(V.h)();return Object(A.jsx)(c.a.Fragment,{children:r.toggleSidebar&&Object(A.jsx)("div",{className:"fixed inset-0 overflow-hidden","aria-labelledby":"slide-over-title",role:"dialog","aria-modal":"true",children:Object(A.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[Object(A.jsx)("div",{className:"absolute inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true"}),Object(A.jsx)("div",{className:"fixed inset-y-0 right-0 pl-10 max-w-full flex",children:Object(A.jsxs)("div",{className:"relative w-screen max-w-md",children:[Object(A.jsx)("div",{className:"absolute top-0 left-0 -ml-8 pt-4 pr-2 flex sm:-ml-10 sm:pr-4",children:Object(A.jsx)("span",{type:"button",className:"rounded-md text-gray-300 hover:text-white focus:outline-none focus:ring-2 focus:ring-white",onClick:function(){return n({type:O})},children:Object(A.jsx)($e.a,{size:"20px"})})}),Object(A.jsxs)("div",{className:"h-full flex flex-col py-6 bg-white shadow-xl overflow-y-scroll",children:[Object(A.jsx)("div",{className:"px-4 sm:px-6",children:Object(A.jsxs)("div",{className:"flex flex-col justify-between",children:[null!==r.currentUser&&Object(A.jsxs)("div",{children:[Object(A.jsx)("div",{children:Object(A.jsx)("p",{className:"p-4",children:null===r||void 0===r||null===(e=r.currentUser)||void 0===e?void 0:e.email})}),Object(A.jsx)("hr",{})]}),Object(A.jsx)("div",{children:Object(A.jsx)("ul",{className:"",children:et.map((function(e){if(null!==r.currentUser){if("Login"!==e.name&&"Signup"!==e.name)return Object(A.jsx)("li",{className:"p-3 hover:bg-gray-200",onClick:function(){s(e.route),n({type:O})},children:e.name},e.id)}else if("My Lists"!==e.name)return Object(A.jsx)("li",{className:"p-3 hover:bg-gray-200",onClick:function(){s(e.route),n({type:O})},children:e.name},e.id);return null}))})}),Object(A.jsx)("div",{children:null!==r.currentUser&&Object(A.jsx)("ul",{children:Object(A.jsx)("li",{className:"p-3 hover:bg-gray-200",onClick:function(){return ne.logout(),s("/home"),void n({type:O})},children:"Logout"})})})]})}),Object(A.jsx)("div",{className:"mt-6 relative flex-1 px-4 sm:px-6"})]})]})})]})})})},rt=function(){return Object(A.jsxs)(c.a.Fragment,{children:[Object(A.jsx)(Xe,{}),Object(A.jsxs)("div",{className:"lg:w-3/4 m-auto",children:[Object(A.jsx)(Ze,{}),Object(A.jsx)(V.b,{})]}),Object(A.jsx)(tt,{}),Object(A.jsx)("br",{}),Object(A.jsx)("br",{}),Object(A.jsx)(Ke,{})]})},nt={allRequests:[],loading:!1},ct="SET_ALL_REQUEST",st="SET_TO_BUSY",at=function(e,t){switch(t.type){case ct:return it(e,t.payload);case st:return lt(e,t.payload);default:return e}},it=function(e,t){return Object(l.a)(Object(l.a)({},e),{},{allRequests:t})},lt=function(e,t){return Object(l.a)(Object(l.a)({},e),{},{loading:t})},ot=Object(n.createContext)(Object(l.a)({},nt)),ut=function(e){var t=e.children,r=Object(n.useReducer)(at,nt),c=Object(i.a)(r,2),s=c[0],a=c[1];return Object(A.jsx)(ot.Provider,{value:{request:s,requestDispatch:a},children:t})},dt=r(101),jt=function(e){var t,r=e.id,n=e.user,s=e.rentalProduct,a=e.description,i=e.priceFrom,l=e.priceTo,o=e.location,u=D(),d=u.global,j=u.globalDispatch,b=G(),m=b.renderSucceed,x=b.renderFail,h=b.renderBusy,p=function(){var e=Object(K.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,Be.removeRequest(t).then((function(){m({message:"Delete item: "+t}),j({type:k})})).catch((function(e){return x({message:e.message})}));case 3:h(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(A.jsx)(c.a.Fragment,{children:Object(A.jsx)("div",{className:"succ-err-res",children:Object(A.jsxs)("div",{className:"w-full transition delay-200 transform hover:-translate-y-2 border py-8 px-5 lg:p-10 shadow-xl rounded",children:[Object(A.jsxs)("p",{className:"lg:text-3xl font-bold truncate",children:["User: ",n]}),Object(A.jsxs)("p",{children:["is looking for ",Object(A.jsx)("strong",{children:s})]}),Object(A.jsx)("br",{}),Object(A.jsxs)("p",{children:["Description: ",a]}),Object(A.jsx)("br",{}),Object(A.jsxs)("p",{children:["Price range:"," ",Object(A.jsxs)("strong",{children:[i," - ",l]})]}),Object(A.jsxs)("p",{children:["Location: ",Object(A.jsx)("strong",{children:o})]}),Object(A.jsx)("br",{}),Object(A.jsxs)("div",{className:"flex flex-row gap-2",children:[Object(A.jsx)("button",{className:"rounded-full w-12 h-12 flex items-center justify-center",children:Object(A.jsx)(dt.a,{size:"20px"})}),n===(null===(t=d.currentUser)||void 0===t?void 0:t.uid)?Object(A.jsx)("button",{className:"rounded-full w-12 h-12 flex items-center justify-center bg-red-600  hover:bg-red-500 ",onClick:function(){p(r)},children:Object(A.jsx)(fe.a,{size:"20px"})}):null]})]})})})},bt=function(){var e,t=Object(n.useContext)(ot),r=t.request,s=t.requestDispatch,a=D().global,i=function(){var e=Object(K.a)(H.a.mark((function e(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({type:st,payload:!0}),e.next=3,Be.getAllRequests().then((function(e){0===(null===e||void 0===e?void 0:e.length)?s({type:ct,payload:null}):s({type:ct,payload:e})})).catch((function(e){return console.log(e.message)}));case 3:s({type:st,payload:!1});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){i()}),[a.refresh]),!1===a.online?Object(A.jsx)(c.a.Fragment,{children:Object(A.jsx)("div",{className:"w-full grid justify-items-center grid-cols-1 lg:grid-cols-3 lg:justify-items-stretch gap-6",children:Object(A.jsx)(Ee,{})})}):null===r.allRequests?Object(A.jsx)("div",{className:"flex flex-row w-full h-80 justify-center items-center text-center",children:Object(A.jsx)("h2",{children:"There are no requests at the moment..."})}):Object(A.jsx)(c.a.Fragment,{children:Object(A.jsxs)("div",{className:"w-full grid justify-items-center grid-cols-1 lg:grid-cols-3 lg:justify-items-stretch gap-6",children:[null===r||void 0===r||null===(e=r.allRequests)||void 0===e?void 0:e.map((function(e){var t=e.id_req,r=e.id_user,n=e.range_from,c=e.range_to,s=e.description,a=e.location,i=e.item;return Object(A.jsx)(jt,{id:t,user:r,rentalProduct:i,description:s,priceFrom:n,priceTo:c,location:a},t)})),r.loading&&Object(A.jsx)(Ee,{})]})})},mt=function(){return ce(),Object(A.jsx)(c.a.Fragment,{children:Object(A.jsx)(ut,{children:Object(A.jsxs)("div",{className:"mx-3 flex flex-col items-center lg:items-start lg:mx-0 my-6",children:[Object(A.jsx)("h1",{children:"REQUEST CATALOG"}),Object(A.jsx)("br",{}),Object(A.jsx)(bt,{})]})})})},xt={userRequests:[],userRentals:[],loading:!1},ht="SET_USER_REQUEST",pt="SET_USER_RENTAL",ft="SET_TO_BUSY",Ot=function(e,t){switch(t.type){case ht:return gt(e,t.payload);case pt:return vt(e,t.payload);case ft:return yt(e,t.payload);default:return e}},gt=function(e,t){return Object(l.a)(Object(l.a)({},e),{},{userRequests:t})},vt=function(e,t){return Object(l.a)(Object(l.a)({},e),{},{userRentals:t})},yt=function(e,t){return Object(l.a)(Object(l.a)({},e),{},{loading:t})},wt=Object(n.createContext)(Object(l.a)({},xt)),Nt=function(){return Object(n.useContext)(wt)},St=function(e){var t=e.children,r=Object(n.useReducer)(Ot,xt),c=Object(i.a)(r,2),s=c[0],a=c[1];return Object(A.jsx)(wt.Provider,{value:{userItem:s,userItemDispatch:a},children:t})},kt=function(){var e,t=D().global,r=Nt(),s=r.userItem,a=r.userItemDispatch;return Object(n.useEffect)((function(){a({type:ft,payload:!0}),Object(o.c)(p,function(){var e=Object(K.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return e.next=3,Se.getUserRentals(t.uid).then((function(e){0===e.length?a({type:pt,payload:null}):a({type:pt,payload:e})})).catch((function(e){return console.log(e.message)}));case 3:a({type:ft,payload:!1});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[t.refresh]),!1===t.online?Object(A.jsx)(c.a.Fragment,{children:Object(A.jsx)("div",{className:"w-full grid justify-items-center grid-cols-1 lg:grid-cols-3 lg:justify-items-stretch gap-6",children:Object(A.jsx)(Ee,{})})}):null===s.userRentals?Object(A.jsx)("div",{className:"flex flex-row w-full h-80 justify-center items-center text-center",children:Object(A.jsx)("h2",{children:"You didnt create any for rental items..."})}):Object(A.jsxs)(c.a.Fragment,{children:[s.loading&&Object(A.jsx)("div",{className:"w-full grid justify-items-center grid-cols-1 lg:grid-cols-3 lg:justify-items-stretch gap-6",children:Object(A.jsx)(Ee,{})}),Object(A.jsx)("div",{className:"w-full grid justify-items-center grid-cols-1 lg:grid-cols-4 lg:justify-items-stretch gap-6",children:null===(e=s.userRentals)||void 0===e?void 0:e.map((function(e){var t=e.item,r=e.likes,n=e.price,c=e.img_url,s=e.id_ren,a=e.img_path,i=e.id_user;return Object(A.jsx)(ke,{user:i,id:s,item:t,likes:r.length,price:n,img:c,path:a},s)}))})]})},Et=function(){var e,t=D().global,r=Nt(),s=r.userItem,a=r.userItemDispatch;return Object(n.useEffect)((function(){a({type:ft,payload:!0}),Object(o.c)(p,function(){var e=Object(K.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return e.next=3,Be.getUserRequest(t.uid).then((function(e){0===e.length?a({type:ht,payload:null}):a({type:ht,payload:e})})).catch((function(e){return console.log(e.message)}));case 3:a({type:ft,payload:!1});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[t.refresh]),!1===t.online?Object(A.jsx)(c.a.Fragment,{children:Object(A.jsx)("div",{className:"w-full grid justify-items-center grid-cols-1 lg:grid-cols-3 lg:justify-items-stretch gap-6",children:Object(A.jsx)(Ee,{})})}):null===s.userRequests?Object(A.jsx)("div",{className:"flex flex-row w-full h-80 justify-center items-center text-center",children:Object(A.jsx)("h2",{children:"You didnt create any request items..."})}):Object(A.jsx)(c.a.Fragment,{children:Object(A.jsxs)("div",{className:"w-full grid justify-items-center grid-cols-1 lg:grid-cols-3 lg:justify-items-stretch gap-6",children:[s.loading&&Object(A.jsx)(Ee,{}),null===(e=s.userRequests)||void 0===e?void 0:e.map((function(e){var t=e.id_req,r=e.id_user,n=e.range_from,c=e.range_to,s=e.description,a=e.location,i=e.item;return Object(A.jsx)(jt,{id:t,user:r,rentalProduct:i,description:s,priceFrom:n,priceTo:c,location:a},t)}))]})})},Rt=function(){ce();var e=Object(V.h)();return Object(A.jsx)(c.a.Fragment,{children:Object(A.jsxs)(St,{children:[Object(A.jsxs)("div",{className:"mx-3 flex flex-col items-center lg:items-start lg:mx-0 my-6",children:[Object(A.jsxs)("div",{className:"w-full flex flex-col lg:flex-row lg:justify-between text-center",children:[Object(A.jsx)("h1",{className:"truncate text-xl lg:text-3xl",children:"Your Items for Rent"}),Object(A.jsx)("br",{className:"block lg:hidden"}),Object(A.jsx)("div",{children:Object(A.jsx)("button",{className:"px-5",onClick:function(){return e("/form/"+We)},children:"Add New"})})]}),Object(A.jsx)("br",{}),Object(A.jsx)(kt,{})]}),Object(A.jsx)("br",{}),Object(A.jsxs)("div",{className:"mx-3 flex flex-col items-center lg:items-start lg:mx-0 my-6",children:[Object(A.jsxs)("div",{className:"w-full flex flex-col lg:flex-row lg:justify-between text-center",children:[Object(A.jsx)("h1",{className:"truncate text-xl lg:text-3xl",children:"Your Requests"}),Object(A.jsx)("br",{className:"block lg:hidden"}),Object(A.jsx)("div",{children:Object(A.jsx)("button",{className:"px-5",onClick:function(){return e("/form/"+ze)},children:"Add New"})})]}),Object(A.jsx)("br",{}),Object(A.jsx)(Et,{})]})]})})},_t=function(){return Object(A.jsx)(c.a.Fragment,{children:Object(A.jsx)(W.a,{basename:"/ulos",children:Object(A.jsxs)(V.e,{children:[Object(A.jsxs)(V.c,{exact:!0,path:"/",element:Object(A.jsx)(rt,{}),children:[Object(A.jsx)(V.c,{path:"/signup",element:Object(A.jsx)(oe,{type:ae})}),Object(A.jsx)(V.c,{path:"/login",element:Object(A.jsx)(oe,{type:se})}),Object(A.jsx)(V.c,{index:!0,element:Object(A.jsx)(V.a,{to:"/home"})}),Object(A.jsx)(V.c,{path:"/home",element:Object(A.jsx)(He,{})}),Object(A.jsx)(V.c,{path:"/browse",element:Object(A.jsx)(Te,{})}),Object(A.jsx)(V.c,{path:"/request",element:Object(A.jsx)(mt,{})}),Object(A.jsx)(V.c,{path:"/my-lists",element:Object(A.jsx)(Rt,{})}),Object(A.jsx)(V.c,{path:"/form/:type",element:Object(A.jsx)(Ve,{})}),Object(A.jsx)(V.c,{path:"/signup",element:Object(A.jsx)(oe,{type:ae})}),Object(A.jsx)(V.c,{path:"/login",element:Object(A.jsx)(oe,{type:se})})]}),Object(A.jsx)(V.c,{path:"*",element:Object(A.jsx)(J,{})})]})})})};var Tt=function(){var e=D().global;return Object(A.jsxs)(c.a.Fragment,{children:[e.loading&&Object(A.jsx)(M,{}),e.error&&Object(A.jsx)(Y,{}),e.success&&Object(A.jsx)(z,{}),Object(A.jsx)(_t,{})]})},Ct=(r(210),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function qt(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var r=e.installing;null!=r&&(r.onstatechange=function(){"installed"===r.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}a.a.render(Object(A.jsx)(c.a.StrictMode,{children:Object(A.jsx)(P,{children:Object(A.jsx)(Tt,{})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/ulos",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/ulos","/service-worker.js");Ct?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(r){var n=r.headers.get("content-type");404===r.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):qt(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):qt(t,e)}))}}()}},[[211,1,2]]]);
//# sourceMappingURL=main.e7a04d45.chunk.js.map